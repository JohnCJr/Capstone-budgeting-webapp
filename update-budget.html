<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SavyStudents</title>
    <link rel="stylesheet" href="reset.css" />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="site_container">
      <header class="header">
        <nav class="navbar navbar-expand-md bg-body-tertiary">
          <div class="container-fluid px-lg-5 px-md-2">
            <a class="navbar-brand fs-1" href="home.html">
              <img src="images/logo.jpg" alt="SavyStudent brand logo" />
              SavyStudents</a
            >
            <button
              class="navbar-toggler d-md-none"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div
              class="collapse navbar-collapse mx-md-0"
              id="navbarSupportedContent"
            >
              <ul class="navbar-nav ms-auto mb-2 mb-lg-0 ps-sm-2 fs-5">
                <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="home.html"
                    >Home</a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="about-us.html"
                    >About Us</a
                  >
                </li>
                <li class="nav-item">
                  <a
                    class="nav-link"
                    aria-current="page"
                    href="budgeting-tips.html"
                    >Budgeting Tips</a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="sign-on.html"> Sign In </a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </header>
      <main class="main logon">
        <div class="form-container shadow-lg rounded">
            <h2>Update your budget</h2>
            <h3>Current Budget: </h3>
            <h3>$300.00</h3>
            <form action="/update-budget.html" method="GET" autocomplete="off">

                <div class="row m-1">
                    <label for="totalbudget" class="col-sm-2 col-form-label">Total</label>
                    <div class="col-12">
                        <div class="input-group">
                          <span class="input-group-text">$</span>
                        <input
                          type="text"
                          class="form-control form-control-md"
                          id="totalbudget"
                          placeholder="6.49"
                        />
                      </div>
                    </div>
                  </div>

                  <div class="row m-1">
                    <label for="foodbudget" class="col-sm-2 col-form-label">Food</label>
                    <div class="col-12">
                      <div class="input-group">
                          <span class="input-group-text">$</span>
                        <input
                          type="text"
                          class="form-control form-control-md"
                          id="foodbudget"
                          placeholder="6.49"
                        />
                      </div>
                    </div>
                  </div>

                  <div class="row m-1">
                    <label for="utilitybudget" class="col-sm-2 col-form-label">Utility</label>
                    <div class="col-12">
                      <div class="input-group">
                          <span class="input-group-text">$</span>
                        <input
                          type="text"
                          class="form-control form-control-md"
                          id="utilitybudget"
                          placeholder="6.49"
                        />
                      </div>
                    </div>
                  </div>

                  <div class="row m-1">
                    <label for="entertainmentbudget" class="col-sm-2 col-form-label">Entertainment</label>
                    <div class="col-12">
                      <div class="input-group">
                          <span class="input-group-text">$</span>
                        <input
                          type="text"
                          class="form-control form-control-md"
                          id="entertainmentbudget"
                          placeholder="6.49"
                        />
                      </div>
                    </div>
                  </div>

                  <div class="row m-1">
                    <label for="otherbudget" class="col-sm-2 col-form-label">Other</label>
                    <div class="col-12">
                      <div class="input-group">
                          <span class="input-group-text">$</span>
                        <input
                          type="text"
                          class="form-control form-control-md"
                          id="otherbudget"
                          placeholder="6.49"
                        />
                      </div>
                    </div>
                  </div>
              <div
                class="btn-group-vertical"
                role="group"
                aria-label="Vertical button group"
              >
                <button type="submit" class="btn btn-primary">Submit</button>
                  <a href="sign-on.html" class="btn btn-primary">Cancel</a>
              </div>
            </form>
          </div>
      </main>
      <footer class="footer">&#169 2023-2024 SavyStudents
        <br>SavyStudents.com
        <br>123 First St.
        <br>Designed by Cajoe Bits Team</footer>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script>
       document.getElementById('examount').addEventListener('input', function (e) {
            let value = e.target.value.replace(/[^\d.]/g, ''); // Remove non-numeric characters except for '.'
            const decimalIndex = value.indexOf('.');
            if (decimalIndex !== -1) {
                value = value.slice(0, decimalIndex + 1) + value.slice(decimalIndex + 1).replace(/\./g, '').slice(0, 2);
            }
            e.target.value = value;
        });

        document.getElementById('examount').addEventListener('blur', function () {
            let value = this.value;
            if (value) {
                if (!value.includes('.')) {
                    value += '.00'; // Add decimal and two zeroes if missing
                } else if (value.split('.')[1].length === 1) {
                    value += '0'; // Add one zero if only one decimal place
                } else if (value.split('.')[1].length === 0) {
                    value += '00'; // Add two zeroes if decimal has no digits
                }
            }
            this.value = value;
        });

        document.addEventListener('DOMContentLoaded', function() {
            const radioButtons = document.querySelectorAll('input[name="exRadios"]');
            const otherCategoryInput = document.getElementById('otherCategory');

            radioButtons.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (document.getElementById('Other').checked) {
                        otherCategoryInput.style.display = 'block';
                    } else {
                        otherCategoryInput.style.display = 'none';
                    }
                });
            });

            document.getElementById('updateForm').addEventListener('submit', function(event) {
                const exdescription = document.getElementById('exdescription').value.trim();
                const selectedCategory = document.querySelector('input[name="exRadios"]:checked');
                const otherCategory = otherCategoryInput.value.trim();
                const amountInput = document.getElementById('examount');

                if (!exdescription) {
                    event.preventDefault(); // Prevent form submission
                    alert('Description is required.');
                } else if (selectedCategory && selectedCategory.id === 'Other' && !otherCategory) {
                    event.preventDefault(); // Prevent form submission
                    alert('Please specify the category.');
                }

                if (!/^\d+(\.\d{2})?$/.test(amountInput.value)) {
                    event.preventDefault(); // Prevent form submission
                    alert('Please enter a valid amount with exactly two decimal places.');
                }
            });
        });
    </script>
  </body>
</html>
